apiVersion: v1
kind: Secret
metadata:
  name: kubestrator-secret
  namespace: system-apps
type: Opaque
stringData:
  # Redis Configuration (same Redis as Go API)
  REDIS_HOST: "redis.system-apps.svc.cluster.local"
  REDIS_PORT: "6379"
  REDIS_USERNAME: "deployra"
  REDIS_PASSWORD: "<REDIS_PASSWORD>"
  REDIS_QUEUE_NAME: "deployment-queue"

  # Redis for deployment status (shared with web-proxy)
  STATUS_REDIS_HOST: "redis"
  STATUS_REDIS_PORT: "6379"
  STATUS_REDIS_PASSWORD: ""
  STATUS_REDIS_DB: "0"

  # AWS Credentials
  AWS_REGION: "<AWS_REGION>"
  AWS_ACCESS_KEY_ID: "<AWS_ACCESS_KEY_ID>"
  AWS_SECRET_ACCESS_KEY: "<AWS_SECRET_ACCESS_KEY>"

  # API Configuration (Go API service)
  API_URL: "<API_URL>"
  API_KEY: "<API_KEY>"  # Must match WEBHOOK_API_KEY in Go API

  # CrashLoopBackOff Cleanup
  CRASHLOOP_CLEANUP_ENABLED: "true"
  CRASHLOOP_CHECK_INTERVAL_MINUTES: "15"
  CRASHLOOP_MIN_RESTART_COUNT: "5"

  # Privileged Services (comma-separated service IDs that need K8s service account access)
  PRIVILEGED_SERVICE_IDS: ""

  # Logging
  LOG_LEVEL: "info"
